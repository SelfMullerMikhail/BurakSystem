-- -- Создаем меню
-- CREATE TABLE menu(
-- id SERIAL PRIMARY KEY,
-- name VARCHAR(100),
-- cost BIGINT,
-- UNIQUE (name)
-- );


-- Создаем стол заказов.
-- DROP TABLE IF EXISTS sell_table;
-- CREATE TABLE sell_table(
-- id SERIAL PRIMARY KEY
-- );
-- INSERT into sell_table VALUES (7);

-- Создаем таблицу наполнения стола заказов.

-- drop table if EXISTS orders;

-- CREATE TABLE orders(
-- id SERIAL PRIMARY KEY,
-- id_sell_table BIGINT UNSIGNED,
-- name_menu VARCHAR(50),
-- id_menu BIGINT UNSIGNED,
-- counts BIGINT NOT NULL
-- );

-- CREATE TABLE deposid(
-- tables BIGINT,
-- total BIGINT,
-- times DATETIME
-- );
-- drop view show_orders; 

-- CREATE VIEW show_orders AS SELECT cost, menu.name, id_sell_table as tables
-- FROM menu, orders, sell_table 
-- WHERE sell_table.id = orders.id_sell_table and orders.name_menu = menu.name; 
DROP VIEW summ_one_table;

CREATE VIEW summ_one_table AS SELECT id_sell_table as tables, SUM(cost) as total, CURRENT_TIME as times 
FROM orders, menu WHERE orders.name_menu = menu.name;
